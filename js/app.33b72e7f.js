(function(e){function t(t){for(var n,a,s=t[0],l=t[1],u=t[2],p=0,d=[];p<s.length;p++)a=s[p],o[a]&&d.push(o[a][0]),o[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);c&&c(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,s=1;s<r.length;s++){var l=r[s];0!==o[l]&&(n=!1)}n&&(i.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},o={app:0},i=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/youtrack-time-sync/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var c=l;i.push([1,"chunk-vendors"]),r()})({0:function(e,t){},1:function(e,t,r){e.exports=r("cd49")},2:function(e,t){},"2fb4":function(e,t,r){},3:function(e,t){},"6ee4":function(e,t,r){"use strict";var n=r("2fb4"),o=r.n(n);o.a},9224:function(e){e.exports={name:"youtrack-time-sync",author:{name:"Andreas Huber Dönni"},keywords:["youtrack","time-sync"],description:"Sync spent time entries in youtrack according to the working time you keep in an Excel sheet.",homepage:"https://github.com/andreashuber69/youtrack-time-sync/blob/master/README.md#--",version:"0.1.8",license:"GPL-3.0-or-later",repository:{type:"git",url:"https://github.com/andreashuber69/youtrack-time-sync.git"},bugs:{url:"https://github.com/andreashuber69/youtrack-time-sync/issues"},private:!0,scripts:{"serve-development":"vue-cli-service serve --mode development","preserve-production":"npm run lint","serve-production":"vue-cli-service serve --mode production",prebuild:"npm run lint",build:"cross-env WEBPACK_BASE_URL=/youtrack-time-sync vue-cli-service build",lint:"tslint --project tsconfig.json --config tslint.json --format verbose",test:"npm run build"},dependencies:{vue:"^2.5.17","vue-class-component":"^6.0.0","vue-property-decorator":"^7.0.0",vuetify:"^1.3.0",xlsx:"^0.14.0"},devDependencies:{"@vue/cli-plugin-typescript":"^3.1.1","@vue/cli-service":"^3.1.1","cross-env":"^5.2.0",stylus:"^0.54.5","stylus-loader":"^3.0.1",typescript:"^3.0.0","vue-cli-plugin-vuetify":"^0.4.5","vue-template-compiler":"^2.5.17","vuetify-loader":"^1.0.5"},postcss:{plugins:{autoprefixer:{}}},browserslist:[">= 0%","not Chrome < 54","not ChromeAndroid < 54","not Android < 5","not Firefox < 47","not FirefoxAndroid < 47","not Edge < 14","not Safari < 10","not iOS < 10","not Opera < 41","not OperaMini all","not Samsung < 5","not Explorer < 12","not ExplorerMobile < 12","not Baidu < 8","not QQAndroid < 2","not UCAndroid < 12","not dead"]}},b318:function(e,t,r){"use strict";var n=r("e8f4"),o=r.n(n);o.a},cd49:function(e,t,r){"use strict";r.r(t);var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-navigation-drawer",{attrs:{app:"",dark:"",temporary:""},model:{value:e.isDrawerVisible,callback:function(t){e.isDrawerVisible=t},expression:"isDrawerVisible"}},[r("v-list",{attrs:{dense:""}},[r("v-list-tile",{on:{click:e.onAboutClicked}},[r("v-list-tile-action",[r("v-icon",[e._v("help")])],1),r("v-list-tile-content",[r("v-list-tile-title",[e._v("About")])],1)],1)],1)],1),r("v-toolbar",{attrs:{app:"",dark:""}},[r("v-toolbar-side-icon",{on:{click:function(t){return t.stopPropagation(),e.onMenuClicked(t)}}}),r("v-toolbar-title",{staticClass:"hidden-xs-only"},[r("v-icon",[e._v("sync")]),e._v("  "+e._s(e.model.title))],1),r("v-spacer")],1),r("v-content",[r("Content",{attrs:{model:e.model}}),r("AboutDialog",{ref:"aboutDialog"})],1)],1)},i=[],a=r("9ab4"),s=r("60a3"),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{width:"960px"},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v(e._s(e.title))]),r("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card",{attrs:{flat:""}},[r("v-card-text",{staticClass:"subheading px-0"},[e._v("Copyright © 2018 Andreas Huber Dönni")])],1)],1),r("v-flex",{attrs:{xs12:"",sm4:""}},[r("v-btn",{staticClass:"ma-0",attrs:{href:"https://github.com/andreashuber69/"+e.packageName+"/blob/master/README.md#--",target:"_blank",color:"primary",block:"",flat:""}},[e._v("\n            Documentation\n          ")])],1),r("v-flex",{attrs:{xs12:"",sm4:""}},[r("v-btn",{staticClass:"ma-0",attrs:{href:"https://github.com/andreashuber69/"+e.packageName+"/issues",target:"_blank",color:"primary",block:"",flat:""}},[e._v("\n            Issues\n          ")])],1),r("v-flex",{attrs:{xs12:"",sm4:""}},[r("v-btn",{staticClass:"ma-0",attrs:{href:"https://raw.githubusercontent.com/andreashuber69/"+e.packageName+"/master/LICENSE",target:"_blank",color:"primary",block:"",flat:""}},[e._v("\n            License\n          ")])],1),r("v-flex",{attrs:{xs12:""}},[r("v-card",{attrs:{flat:""}},[r("v-card-text",{staticClass:"caption px-0"},[e._v(e._s(e.userAgent))])],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.isOpen=!1}}},[e._v("Close")])],1)],1)],1)},u=[],c=r("9224"),p=function(){function e(){}return Object.defineProperty(e,"packageName",{get:function(){return c.name},enumerable:!0,configurable:!0}),Object.defineProperty(e,"title",{get:function(){return this.packageName.split("-").map(function(e){return""+e[0].toUpperCase()+e.substr(1)}).join(" ")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"version",{get:function(){return c.version},enumerable:!0,configurable:!0}),e}(),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isOpen=!1,t}return a["c"](t,e),Object.defineProperty(t.prototype,"title",{get:function(){return p.title+" v"+p.version},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return p.packageName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userAgent",{get:function(){return window.navigator.userAgent},enumerable:!0,configurable:!0}),t.prototype.showDialog=function(){this.isOpen=!0},t=a["b"]([s["a"]],t),t}(s["c"]),f=d,v=f,m=(r("6ee4"),r("2877")),h=r("6544"),b=r.n(h),y=r("8336"),g=r("b0af"),w=r("99d9"),x=r("12b2"),k=r("a523"),_=r("169a"),C=r("0e8f"),D=r("a722"),A=r("9910"),V=Object(m["a"])(v,l,u,!1,null,"1e2a732e",null);V.options.__file="AboutDialog.vue";var O=V.exports;b()(V,{VBtn:y["a"],VCard:g["a"],VCardActions:w["a"],VCardText:w["b"],VCardTitle:x["a"],VContainer:k["a"],VDialog:_["a"],VFlex:C["a"],VLayout:D["a"],VSpacer:A["a"]});var E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"YouTrack Base URL",hint:"Example: 'https://company.myjetbrains.com/youtrack'",required:"",rules:e.rules},model:{value:e.model.youTrackBaseUrl,callback:function(t){e.$set(e.model,"youTrackBaseUrl",t)},expression:"model.youTrackBaseUrl"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"YouTrack Authentication Token",hint:"Example: 'perm:QUhV.VGVzdDI=.6fRv9xZztORX9LquKaXJHxf5lsKyoO'",required:"",rules:e.rules,"append-icon":e.showToken?"visibility_off":"visibility",type:e.showToken?"text":"password"},on:{"click:append":function(t){e.showToken=!e.showToken}},model:{value:e.model.token,callback:function(t){e.$set(e.model,"token",t)},expression:"model.token"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Excel File",required:"",readonly:"",rules:e.rules,"error-messages":e.error,"append-icon":"open_in_browser"},on:{"click:append":e.onOpenClicked},model:{value:e.model.filename,callback:function(t){e.$set(e.model,"filename",t)},expression:"model.filename"}}),r("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:e.model.fileExtension},on:{change:e.onFileInputChanged}})],1)],1)],1),r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{"justify-center":""}},[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.timeHeaders,items:e.times,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",[e._v(e._s(t.item.date.toLocaleDateString()))]),r("td",[e._v(e._s(t.item.title))]),r("td",[e._v(e._s(t.item.type))]),r("td",[e._v(e._s(t.item.comment))]),r("td",{staticClass:"text-xs-right"},[e._v(e._s(15*Math.round(24*t.item.durationDays*4)))])]}}])})],1)],1),r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{"justify-center":""}},[r("v-btn",{attrs:{disabled:!e.valid},on:{click:e.onSubmitClicked}},[e._v("Submit")])],1)],1)],1)},T=[],P=r("1146"),S=function(){function e(){this.map=new Map}return e.prototype.add=function(e){var t=e.date+"|"+e.title+"|"+e.type,r=this.map.get(t);r?(r.durationDays+=e.durationDays,r.comment=e.comment):this.map.set(t,e)},e.prototype.entries=function(){var t,r,n=new Array;try{for(var o=a["f"](this.map.values()),i=o.next();!i.done;i=o.next()){var s=i.value;n.push(s)}}catch(l){t={error:l}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n.sort(function(t,r){return e.compare(t,r)}),n},e.compare=function(e,t){return e.date.getTime()-t.date.getTime()||e.title.localeCompare(t.title)||(e.type||"").localeCompare(t.type||"")||0},e}(),j=function(){function e(){}return e.parse=function(e){var t,r,n=new S,o=!1;try{for(var i=a["f"](e.SheetNames),s=i.next();!s.done;s=i.next()){var l=s.value;l.startsWith("Week")&&(o=!0,this.parseSheet(n,e.Sheets[l],l))}}catch(u){t={error:u}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}if(!o)throw new Error("The selected workbook does not seem to contain any Week sheets.");return n},e.parseSheet=function(e,t,r){var n=t["!ref"];if(!n)throw new Error("The sheet "+r+" seems to be empty.");var o=n.indexOf(":");this.checkRange(o<0,r,n);var i=a["e"](this.split(n.substring(0,o),r,n),2),s=i[0],l=i[1],u=a["e"](this.split(n.substring(o+1,n.length),r,n),2),c=u[0],p=u[1],d=5;this.checkRange("A"!==s||"G"!==c||1!==l||p<d,r,n),this.iterateRows(d,p,e,r,t)},e.checkRange=function(e,t,r){if(e)throw new Error("The sheet "+t+" has an unexpected range: "+r+".")},e.iterateRows=function(e,t,r,n,o){for(var i=e;i<=t;++i)this.parseRow(r,{errorPrefix:"In sheet "+n+", ",row:i,holidays:o["A"+i],otherPaidAbsence:o["B"+i],start:o["C"+i],end:o["D"+i],title:o["E"+i],type:o["F"+i],comment:o["G"+i]})},e.parseRow=function(e,t){var r=this.getPeriod(t);if(r){var n=a["e"](r,2),o=n[0],i=n[1],s=this.getSpentTime(i,o,t),l=a["e"](this.getWorkDetail(t,o,i),2),u=l[0],c=l[1];if(void 0===o.f){if(!c)throw new Error(t.errorPrefix+"E"+t.row+" must not be empty.");e.add({date:this.toDate(o.v),title:c,type:t.type&&t.type.v.toString()||void 0,comment:t.comment&&t.comment.v.toString()||void 0,isPaidAbsence:u,durationDays:s})}}},e.split=function(e,t,r){var n=e.search("[0-9]+");return this.checkRange(n<0,t,r),[e.substring(0,n),Number.parseInt(e.substring(n,e.length),10)]},e.getPeriod=function(e){if(!e.start!==!e.end)throw new Error(e.errorPrefix+"C"+e.row+" and D"+e.row+" must either be both empty or non-empty.");if(e.start&&e.end){if("number"!==typeof e.start.v||"number"!==typeof e.end.v)throw new Error(e.errorPrefix+"C"+e.row+" and D"+e.row+" must both be dates.");return[{v:e.start.v,f:e.start.f},{v:e.end.v,f:e.end.f}]}},e.getSpentTime=function(e,t,r){var n=e.v-t.v;if(n<0)throw new Error(r.errorPrefix+"C"+r.row+" must be smaller than D"+r.row+".");if(n>=1)throw new Error(r.errorPrefix+"on row "+r.row+" the spent time must be smaller than 1 day.");return n},e.getWorkDetail=function(e,t,r){if(e.holidays&&e.otherPaidAbsence)throw new Error(e.errorPrefix+"A"+e.row+" and B"+e.row+" cannot both be non-empty.");var n=!!e.holidays||!!e.otherPaidAbsence;if(n){if(void 0!==t.f||void 0===r.f)throw new Error(e.errorPrefix+"C"+e.row+" must be fixed and D"+e.row+" must be floating.");return[n,e.holidays?"Holiday":"Other Paid Absence"]}if(void 0===t.f!==(void 0===r.f))throw new Error(e.errorPrefix+"C"+e.row+" and D"+e.row+" must either be both values or both formulas.");return[n,e.title&&e.title.v&&e.title.v.toString()||void 0]},e.toDate=function(e){return new Date(this.excelEpochStart.valueOf()+24*Math.floor(e)*60*60*1e3)},e.excelEpochStart=new Date(1899,11,30),e}(),I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showToken=!1,t.rules=[function(e){return r.requiredRule(e)}],t.valid=!1,t.error=null,t.timeHeaders=[{text:"Date",align:"left",sortable:!1,value:"date"},{text:"Title",align:"left",sortable:!1,value:"title"},{text:"Type",align:"left",sortable:!1,value:"type"},{text:"Comment",align:"left",sortable:!1,value:"comment"},{text:"Spent Time (Minutes)",align:"right",sortable:!1,value:"durationDays"}],t.times=new Array,t}var r;return a["c"](t,e),r=t,t.prototype.onOpenClicked=function(e){this.fileInput.click()},t.prototype.onFileInputChanged=function(e){return a["a"](this,void 0,void 0,function(){return a["d"](this,function(t){switch(t.label){case 0:return t.trys.push([0,,2,3]),[4,this.onFileInputChangedImpl(e.target.files)];case 1:return t.sent(),[3,3];case 2:return this.fileInput.value="",[7];case 3:return[2]}})})},t.prototype.onSubmitClicked=function(e){},t.requiredRule=function(e){return!!e||"A value is required."},t.read=function(e){return new Promise(function(t,r){var n=new FileReader;n.onload=function(e){return t(n.result)},n.onerror=function(e){return r("Unable to read file.")},n.readAsArrayBuffer(e)})},Object.defineProperty(t.prototype,"checkedModel",{get:function(){if(!this.model)throw new Error("No model set!");return this.model},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fileInput",{get:function(){return this.$refs.fileInput},enumerable:!0,configurable:!0}),t.prototype.onFileInputChangedImpl=function(e){return a["a"](this,void 0,void 0,function(){var t,n,o,i,s,l;return a["d"](this,function(a){switch(a.label){case 0:if(1!==e.length)return[2];a.label=1;case 1:return a.trys.push([1,3,,4]),this.checkedModel.filename=e[0].name,t=this,o=(n=j).parse,i=P["read"],s=Uint8Array.bind,[4,r.read(e[0])];case 2:return t.times=o.apply(n,[i.apply(void 0,[new(s.apply(Uint8Array,[void 0,a.sent()])),{type:"array"}])]).entries(),this.error=null,[3,4];case 3:return l=a.sent(),this.error=l instanceof Error?l.toString():"Unknown Error!",this.times.splice(0),[3,4];case 4:return[2]}})})},a["b"]([Object(s["b"])()],t.prototype,"model",void 0),t=r=a["b"]([s["a"]],t),t}(s["c"]),R=I,M=R,L=(r("b318"),r("8fea")),B=r("4bd4"),F=r("2677"),U=Object(m["a"])(M,E,T,!1,null,null,null);U.options.__file="Content.vue";var N=U.exports;b()(U,{VBtn:y["a"],VContainer:k["a"],VDataTable:L["a"],VFlex:C["a"],VForm:B["a"],VLayout:D["a"],VTextField:F["a"]});var $=function(){function e(){this.fileExtension=".xlsm",this.youTrackBaseUrl=null,this.token=null,this.filename=null}return Object.defineProperty(e.prototype,"title",{get:function(){return p.title},enumerable:!0,configurable:!0}),e}(),q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isDrawerVisible=!1,t.model=new $,t}return a["c"](t,e),t.prototype.onMenuClicked=function(e){this.isDrawerVisible=!this.isDrawerVisible},t.prototype.onAboutClicked=function(e){this.isDrawerVisible=!1,this.$refs.aboutDialog.showDialog()},t=a["b"]([Object(s["a"])({components:{AboutDialog:O,Content:N}})],t),t}(s["c"]),H=q,W=H,G=r("7496"),J=r("549c"),K=r("132d"),Q=r("8860"),z=r("ba95"),X=r("40fe"),Y=r("5d23"),Z=r("f774"),ee=r("71d9"),te=r("706c"),re=r("2a7f"),ne=Object(m["a"])(W,o,i,!1,null,null,null);ne.options.__file="App.vue";var oe=ne.exports;b()(ne,{VApp:G["a"],VContent:J["a"],VIcon:K["a"],VList:Q["a"],VListTile:z["a"],VListTileAction:X["a"],VListTileContent:Y["a"],VListTileTitle:Y["b"],VNavigationDrawer:Z["a"],VSpacer:A["a"],VToolbar:ee["a"],VToolbarSideIcon:te["a"],VToolbarTitle:re["a"]});var ie=r("bb71");r("da64");n["default"].use(ie["a"],{iconfont:"md"}),n["default"].config.productionTip=!1,new n["default"]({render:function(e){return e(oe)}}).$mount("#app")},e8f4:function(e,t,r){}});
//# sourceMappingURL=app.33b72e7f.js.map